<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cookie Puncher ‚Äî cookiepuncher.fun</title>
  <meta name="description" content="Cookie Puncher ‚Äî a small incremental clicker game you can play in your browser. Punch cookies, buy upgrades, and build a cookie empire!">
  <style>
    :root{
      --bg1: #0b1020; --bg2: #151a30; --accent1: #ffc857; --accent2:#ff9e57; --muted:#a0aec0;
      --glass: rgba(255,255,255,0.04);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial}
    body{
      background: linear-gradient(180deg,var(--bg1) 0%,var(--bg2) 100%);
      color:#fff; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .site{
      width:100%; max-width:1100px; border-radius:14px; padding:18px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); box-shadow:0 10px 40px rgba(2,6,23,0.6);
      display:grid; grid-template-columns: 420px 1fr; gap:18px; align-items:start;
    }
    header{grid-column:1/-1; display:flex; align-items:center; justify-content:space-between; gap:12px}
    .brand{display:flex; gap:12px; align-items:center}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent1),var(--accent2)); display:flex; align-items:center; justify-content:center; font-size:28px; color:#000; font-weight:700; box-shadow:0 6px 18px rgba(255,160,40,0.08)}
    h1{margin:0;font-size:1.35rem;color:var(--accent1)}
    p.lead{margin:0;color:var(--muted)}

    .left{padding:14px;background:var(--glass); border-radius:12px; min-height:420px}
    #cookieButton{width:220px;height:220px;border-radius:50%;border:none;background:linear-gradient(180deg,var(--accent1),var(--accent2));font-size:3.6rem;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.45);display:block;margin:14px auto;transition:transform .08s}
    #cookieButton:active{transform:scale(.92)}
    #superCookie{display:none;width:120px;height:120px;border-radius:50%;border:none;background:radial-gradient(circle, #ff00ff, #ff9900);font-size:2.4rem;cursor:pointer;box-shadow:0 0 25px 8px rgba(255,0,255,0.5);margin:10px auto;animation:glow 1s infinite alternate;}
    @keyframes glow{from{box-shadow:0 0 10px #ff00ff;}to{box-shadow:0 0 25px #ff9900;}}
    .stats{text-align:center}
    .stats .big{font-size:1.25rem;margin-top:8px}
    .cps{color:var(--muted);font-size:.95rem}
    .discount-timer{color:#ff9e57;font-weight:700;margin-top:6px;font-size:.95rem;}

    .right{padding:14px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); border-radius:12px; min-height:420px}
    .shop{display:flex;flex-direction:column;gap:10px}
    .shop-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;background:rgba(0,0,0,0.18);cursor:pointer;transition:transform .15s;}
    .shop-item:hover{transform:translateY(-3px)}
    .affordable{outline:2px solid rgba(255,255,255,0.06);box-shadow:0 6px 20px rgba(0,0,0,0.4)}

    footer{grid-column:1/-1;text-align:center;color:var(--muted);font-size:.85rem;margin-top:6px}
    .controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:8px}
    .btn{background:rgba(255,255,255,0.06);border-radius:8px;padding:8px 10px;cursor:pointer;border:none;color:#fff}
    .col-2{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    .section-title{font-size:.95rem;color:var(--accent1);margin:0 0 8px}

    @media (max-width:960px){.site{grid-template-columns:1fr;}}
    @media (max-width:520px){#cookieButton{width:160px;height:160px;font-size:2.6rem}}
  </style>
</head>
<body>
  <div class="site">
    <header>
      <div class="brand">
        <div class="logo">üç™</div>
        <div>
          <h1>Cookie Puncher</h1>
          <p class="lead">Punch cookies, buy upgrades, become a bakery legend.</p>
        </div>
      </div>
      <div style="text-align:right">
        <div style="font-weight:600">cookiepuncher.fun</div>
        <div style="color:var(--muted);font-size:.9rem">Prototype ‚Ä¢ Single-file</div>
      </div>
    </header>

    <main class="left">
      <div class="stats">
        <button id="cookieButton" title="Punch cookie">üç™</button>
        <button id="superCookie" title="Super Cookie">üåü</button>
        <div id="score" class="big">Cookies: 0</div>
        <div id="cps" class="cps">Cookies per second: 0</div>
        <div id="discountTimer" class="discount-timer"></div>

        <div class="controls">
          <button class="btn" id="saveBtn">Save</button>
          <button class="btn" id="loadBtn">Load</button>
          <button class="btn" id="resetBtn">Reset</button>
        </div>
      </div>

      <div style="margin-top:14px">
        <h3 class="section-title">How to play</h3>
        <p style="margin:6px 0;color:var(--muted)">Click the cookie to get cookies. Buy items in the shop to increase cookies per second (CPS). Items get more expensive each purchase. Watch out for the Super Cookie‚Äîit gives 50% off for 30 seconds!</p>
      </div>
    </main>

    <aside class="right">
      <h3 class="section-title">üõí Shop</h3>
      <div id="shop" class="shop"></div>
    </aside>

    <footer>
      By Flapy + ChatGPT ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è Flap Flap FLAPY YouTube chanel!
    </footer>
  </div>

  <script>
    let cookies = 0;
    let highestCPS = 0;
    let discountActive = false;
    let discountTimer = 0;
    let discountCountdown;

    const items = [
      { name: "Cursor", emoji: "üñ±Ô∏è", cost: 10, cps: 1, owned: 0, costGrow: 1.5 },
      { name: "Grandpa", emoji: "üë¥", cost: 200, cps: 5, owned: 0, costGrow: 1.7 },
      { name: "Factory", emoji: "üè≠", cost: 1000, cps: 25, owned: 0, costGrow: 1.8 },
      { name: "Cyclops", emoji: "üëÅÔ∏è", cost: 2500, cps: 50, owned: 0, costGrow: 1.9 },
      { name: "Wizard", emoji: "üßô", cost: 5000, cps: 100, owned: 0, costGrow: 1.95 },
      { name: "Cookie Town", emoji: "üåÜ", cost: 10000, cps: 250, owned: 0, costGrow: 1.95 },
      { name: "Portal", emoji: "üöÄ", cost: 20000, cps: 500, owned: 0, costGrow: 2.0 },
      { name: "Time Machine", emoji: "‚è≥", cost: 100000, cps: 2500, owned: 0, costGrow: 2.15 },
      { name: "Cookie Galaxy", emoji: "üåå", cost: 500000, cps: 10000, owned: 0, costGrow: 2.3 }
    ];

    const cookieButton = document.getElementById('cookieButton');
    const superCookie = document.getElementById('superCookie');
    const scoreEl = document.getElementById('score');
    const cpsEl = document.getElementById('cps');
    const shopEl = document.getElementById('shop');
    const discountTimerEl = document.getElementById('discountTimer');

    function init(){
      cookieButton.addEventListener('click', ()=> addCookie(1));
      document.getElementById('saveBtn').addEventListener('click', saveGame);
      document.getElementById('loadBtn').addEventListener('click', loadGame);
      document.getElementById('resetBtn').addEventListener('click', resetGame);
      superCookie.addEventListener('click', activateDiscount);

      buildShop();
      loadGame();
      updateUI();
      spawnSuperCookie();
    }

    function addCookie(amount = 1){
      cookies += amount;
      updateUI();
    }

    function buyItem(index){
      const item = items[index];
      const cost = discountActive ? item.cost / 2 : item.cost;
      if(cookies >= cost){
        cookies -= cost;
        item.owned++;
        item.cost = Math.floor(item.cost * item.costGrow);
        updateUI();
      }
    }

    function buildShop(){
      shopEl.innerHTML = '';
      items.forEach((it, idx)=>{
        const div = document.createElement('div');
        const cost = discountActive ? Math.floor(it.cost/2) : it.cost;
        div.className = 'shop-item';
        div.onclick = ()=> buyItem(idx);
        div.innerHTML = `
          <div>${it.emoji} ${it.name} <span style="color:#999">x${it.owned}</span></div>
          <div><b>${formatNumber(cost)}</b> üç™</div>
        `;
        shopEl.appendChild(div);
      });
    }

    function updateUI(){
      const totalCPS = items.reduce((s,i)=> s + i.owned * i.cps, 0);
      scoreEl.textContent = `Cookies: ${formatNumber(cookies)}`;
      cpsEl.textContent = `Cookies per second: ${formatNumber(totalCPS)}`;
      buildShop();
    }

    // discount logic
    function activateDiscount(){
      superCookie.style.display = 'none';
      discountActive = true;
      discountTimer = 30;
      updateDiscountTimer();
      discountCountdown = setInterval(()=>{
        discountTimer--;
        updateDiscountTimer();
        if(discountTimer <= 0){
          clearInterval(discountCountdown);
          discountActive = false;
          discountTimerEl.textContent = '';
        }
      }, 1000);
    }

    function updateDiscountTimer(){
      discountTimerEl.textContent = discountActive ? `50% OFF! ${discountTimer}s left!` : '';
    }

    // random spawn for Super Cookie
    function spawnSuperCookie(){
      setTimeout(()=>{
        superCookie.style.display = 'block';
        setTimeout(()=> superCookie.style.display = 'none', 8000); // visible for 8s
        spawnSuperCookie();
      }, Math.random()*30000 + 30000); // between 60s‚Äì300s
    }

    // autosave & load
    function saveGame(){
      const save = { cookies, items, highestCPS };
      localStorage.setItem('cookiepuncher_save', JSON.stringify(save));
      alert('Game saved!');
    }

    function loadGame(){
      const raw = localStorage.getItem('cookiepuncher_save');
      if(!raw) return;
      const data = JSON.parse(raw);
      cookies = data.cookies || 0;
      if(data.items) data.items.forEach((s,i)=>{ if(items[i]){ items[i].owned = s.owned; items[i].cost = s.cost; }});
      updateUI();
    }

    function resetGame(){
      if(!confirm('Reset your game?')) return;
      localStorage.removeItem('cookiepuncher_save');
      location.reload();
    }

    // CPS loop
    setInterval(()=>{
      const total = items.reduce((s,i)=> s + i.owned * i.cps, 0);
      cookies += total;
      if(total > highestCPS) highestCPS = total;
      updateUI();
    }, 1000);

    function formatNumber(n){
      if(n >= 1e9) return (n/1e9).toFixed(2)+'B';
      if(n >= 1e6) return (n/1e6).toFixed(2)+'M';
      if(n >= 1e3) return (n/1e3).toFixed(2)+'K';
      return Math.floor(n);
    }

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
